<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>FirehoseJS Documentation</title>
  <script src='../../javascript/application.js'></script>
  <script src='../../javascript/search.js'></script>
  <link rel='stylesheet' href='../../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../../extra/README.md.html' title='FirehoseJS'>
      FirehoseJS
    </a>
    &raquo;
    <a href='../../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>FirehoseJS</span>
    &raquo;
    <span class='title'>Agent</span>
  </div>
</div>
    <div id='content'>
      <h1>
        Class:
        FirehoseJS.Agent
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>src&#47;lib&#47;agent.js.coffee</td>
        </tr>
        <tr>
          <td>Inherits:</td>
          <td>
            <a href='../../class/FirehoseJS/Object.html'>FirehoseJS.Object</a>
          </td>
        </tr>
      </table>
      <h2>Property Summary</h2>
      <h3 class='inherited'>
        Properties inherited from
        <a href='../../class/FirehoseJS/Object.html'>FirehoseJS.Object</a>
      </h3>
      <p class='inherited'>
        <a href='[object Object]'>id</a>
        <a href='[object Object]'>createdAt</a>
      </p>
      <h2>Variables Summary</h2>
      <dl class='constants'>
  <dt id='loggedInAgent-variable'>
    loggedInAgent
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='accessToken-variable'>
    accessToken
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='URLToken-variable'>
    URLToken
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='firstName-variable'>
    firstName
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='lastName-variable'>
    lastName
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='email-variable'>
    email
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='currentCompany-variable'>
    currentCompany
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='companies-variable'>
    companies
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
</dl>
      <h2>Class Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#agentWithAccessToken-static'>
        .
(void)
<b>agentWithAccessToken</b><span>(accessToken)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#agentWithEmailAndPassword-static'>
        .
(void)
<b>agentWithEmailAndPassword</b><span>(email, password)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#agentWithID-static'>
        .
(void)
<b>agentWithID</b><span>(id)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#requestPasswordReset-static'>
        .
(void)
<b>requestPasswordReset</b><span>(email)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#resetPassword-static'>
        .
(void)
<b>resetPassword</b><span>(token, newPassword)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
</ul>
      <h2>Instance Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#signUpWithFirstAndLastName-dynamic'>
        #
(Promise)
<b>signUpWithFirstAndLastName</b><span>(firstName, lastName, inviteToken)</span>
      </a>
    </span>
    <span class='desc'>
      Create a new agent. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#login-dynamic'>
        #
(Promise)
<b>login</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Logs the agent in and stores the access token for all future requests. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#logout-dynamic'>
        #
(void)
<b>logout</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Makes no call to the server but simply nulls out all the stored credentials that are used to authenticate requests. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#fetch-dynamic'>
        #
(Promise)
<b>fetch</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Fetches the latest data about this agent from the server and populates the agent&#39;s properties. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#save-dynamic'>
        #
(Promise)
<b>save</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Persists all properties that can be saved to the server. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#destroy-dynamic'>
        #
(Promise)
<b>destroy</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Deletes this agent from the server. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#dismissNotifications-dynamic'>
        #
(void)
<b>dismissNotifications</b><span>(notifications)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#setNewPassword-dynamic'>
        #
(void)
<b>setNewPassword</b><span>(newPassword)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#fullName-dynamic'>
        #
(void)
<b>fullName</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#gravatarURL-dynamic'>
        #
(string)
<b>gravatarURL</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      The agents gravatar given their email address. 
    </span>
  </li>
</ul>
      <h2>
        <small>Inherited Method Summary</small>
        <h3 class='inherited'>
          Methods inherited from
          <a href='../../class/FirehoseJS/Object.html'>FirehoseJS.Object</a>
        </h3>
        <p class='inherited'>
          <a href='../../class/FirehoseJS/Object.html#get-dynamic'>#get</a>
          <a href='../../class/FirehoseJS/Object.html#set-dynamic'>#set</a>
          <a href='../../class/FirehoseJS/Object.html#archive-dynamic'>#archive</a>
          <a href='../../class/FirehoseJS/Object.html#unarchive-dynamic'>#unarchive</a>
        </p>
      </h2>
      <h2>Class Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='agentWithAccessToken-static'>
      .
(void)
<b>agentWithAccessToken</b><span>(accessToken)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='agentWithEmailAndPassword-static'>
      .
(void)
<b>agentWithEmailAndPassword</b><span>(email, password)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='agentWithID-static'>
      .
(void)
<b>agentWithID</b><span>(id)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='requestPasswordReset-static'>
      .
(void)
<b>requestPasswordReset</b><span>(email)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='resetPassword-static'>
      .
(void)
<b>resetPassword</b><span>(token, newPassword)</span>
      <br>
    </p>
    
  </div>
</div>
      <h2>Instance Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='signUpWithFirstAndLastName-dynamic'>
      #
(Promise)
<b>signUpWithFirstAndLastName</b><span>(firstName, lastName, inviteToken)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Create a new agent.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>firstName</span>
      <span class='type'>
        (<tt>string</tt>)
      </span>
      &mdash;
      <span class='desc'>The first name of the agent that will be shown in the interace and to customers. </span>
    </li>
    <li>
      <span class='name'>lastName</span>
      <span class='type'>
        (<tt>string</tt>)
      </span>
      &mdash;
      <span class='desc'>The last name of the agent. </span>
    </li>
    <li>
      <span class='name'>inviteToken</span>
      <span class='type'>
        (<tt>string</tt>)
      </span>
      &mdash;
      <span class='desc'>If The user is accepting an invite from an email, the invite token will be in the url and you can pass it in here to link this agent to that company when they sign up. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Promise</tt>)
      &mdash;
      <span class='desc'>a jqXHR Promise. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='login-dynamic'>
      #
(Promise)
<b>login</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <div class='note'>
    <strong>Note:</strong>
    If the username and password properties are set, they are used to log in and obtain an access token and populate the agent. 
  </div>
  <p>Logs the agent in and stores the access token for all future requests.
      If no username or password is set, but the accessToken is set, it will login using the access token and populate the agent.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Promise</tt>)
      &mdash;
      <span class='desc'>A jqXHR Promise. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='logout-dynamic'>
      #
(void)
<b>logout</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Makes no call to the server but simply nulls out all the stored credentials that are used to authenticate requests.
Any requests made after calling <code>logout()</code> on any agent will cause every request that requires authenticattion to fail.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='fetch-dynamic'>
      #
(Promise)
<b>fetch</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Fetches the latest data about this agent from the server and populates the agent&#39;s properties.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Promise</tt>)
      &mdash;
      <span class='desc'>A jqXHR Promise. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='save-dynamic'>
      #
(Promise)
<b>save</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Persists all properties that can be saved to the server.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Promise</tt>)
      &mdash;
      <span class='desc'>A jqXHR Promise. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='destroy-dynamic'>
      #
(Promise)
<b>destroy</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <div class='note'>
    <strong>Note:</strong>
    The logic of what this does is somewhat complex. The rules are: Every company this agent belongs to where this is the only agent the company has will be destroyed 
  </div>
  <p>Deletes this agent from the server.
      with the agent. Any company this agent belongs to that has other agents will not be destroyed and if the agent was the company&#39;s owner, the agent will still be 
      destroyed and a new owner will be selected from remaining agents at random.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>Promise</tt>)
      &mdash;
      <span class='desc'>A jqXHR Promise. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='dismissNotifications-dynamic'>
      #
(void)
<b>dismissNotifications</b><span>(notifications)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='setNewPassword-dynamic'>
      #
(void)
<b>setNewPassword</b><span>(newPassword)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='fullName-dynamic'>
      #
(void)
<b>fullName</b><span>()</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='gravatarURL-dynamic'>
      #
(string)
<b>gravatarURL</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>The agents gravatar given their email address.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (<tt>string</tt>)
      &mdash;
      <span class='desc'>the url of the agent&#39;s gravatar. </span>
    </li>
  </ul>
</div>
  </div>
</div>
    </div>
    <div id='footer'>
  February 05, 14 11:34:34 by
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.0.3
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
  &#10034;
  <a href='https://mksoft.ch' target='_parent'>mksoft.ch</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>